<nav
  class="transition-all duration-300 top-0 z-[100000] justify-center content-center text-center w-[95%] dark:text-dark-text text-light-text group-hover:text-dark-text mb-1 p-2 mx-auto rounded-b-lg"
>
  <div class="overflow-hidden nav rounded-lg transition-all duration-300">
    
    <!-- <div
      class="float-right hover:text-white text-center no-underline px-4 py-3.5 hover:bg-primary transition-all h-[3.25rem] w-14 duration-[400ms] wrap group"
    >
      <div
        class="light-dark light absolute w-20 aspect-square text-dark-text front"
      >
        <svg
          class="w-6 h-6 dark:fill-dark-text fill-light-text group-hover:fill-dark-text transition-all duration-[400ms]"
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 64 64"
          enable-background="new 0 0 64 64"
          xml:space="preserve"
        >
          <g id="Sum">
            <path
              d="M17,31.9727993c0,8.295599,6.7157001,15.0206013,15,15.0206013s15-6.7250023,15-15.0206013
		c0-8.2957001-6.7157021-15.0206985-15-15.0206985S17,23.6770992,17,31.9727993z M45,31.9727993
		c0,7.1779995-5.8317986,13.0178013-13,13.0178013c-7.1681843,0-13-5.8398018-13-13.0178013
		c0-7.1780987,5.8318157-13.0178986,13-13.0178986C39.1682014,18.9549007,45,24.7947006,45,31.9727993z"
            ></path>
            <path
              d="M32.7421989,11.7700996c0.5527,0,1-0.4478998,1-1.0014V1.0014c0-0.5535-0.4473-1.0014-1-1.0014
		c-0.5527992,0-0.9999981,0.4479-0.9999981,1.0014v9.7672997C31.7422009,11.3221998,32.1893997,11.7700996,32.7421989,11.7700996z"
            ></path>
            <path
              d="M48.6445007,4.6588001C48.1640015,4.3790998,47.5527,4.5443001,47.2783012,5.0235l-4.8838005,8.4578991
		c-0.2773018,0.4792004-0.1133003,1.0914001,0.364315,1.3681002c0.1581841,0.0918999,0.3300858,0.1350002,0.5,0.1350002
		c0.3456841,0,0.6815834-0.1789999,0.8661842-0.4996996l4.8838158-8.4580002
		C49.2860985,5.5476999,49.1221008,4.9355001,48.6445007,4.6588001z"
            ></path>
            <path
              d="M50.7616997,23.0286999c0.1689987,0,0.3408012-0.0429993,0.4990005-0.1340008l8.4580002-4.8835983
		c0.4776001-0.2758007,0.6425972-0.8889008,0.3661995-1.3681011c-0.2763023-0.4771996-0.8837013-0.6434994-1.3661995-0.3666992
		l-8.4580002,4.8836002c-0.4775009,0.2757988-0.6425018,0.8889999-0.3661995,1.3680992
		C50.0790977,22.8488007,50.4160004,23.0286999,50.7616997,23.0286999z"
            ></path>
            <path
              d="M11.7676001,32.7421989c0-0.5533981-0.4473-1.0012989-0.999999-1.0012989H1.0000008c-0.5527,0-1,0.4479008-1,1.0012989
		c0,0.5535011,0.4473,1.0014,1,1.0014h9.7676001C11.3203001,33.7435989,11.7676001,33.2957001,11.7676001,32.7421989z"
            ></path>
            <path
              d="M4.2822008,18.0111008L12.7402,22.8946991c0.1582003,0.0910015,0.3291006,0.1340008,0.4990005,0.1340008
		c0.3457003,0,0.6827002-0.1798992,0.8671999-0.5007c0.2764149-0.4790993,0.1114149-1.0923004-0.3662004-1.3680992
		l-8.4579992-4.8836002c-0.4813852-0.2768002-1.0918002-0.1125011-1.3662002,0.3666992
		C3.6396008,17.1222,3.8047006,17.7353001,4.2822008,18.0111008z"
            ></path>
            <path
              d="M20.7411995,14.9844999c0.1699009,0,0.3418007-0.0431004,0.4990005-0.1339998
		c0.4785004-0.2777004,0.6426163-0.8899002,0.3661995-1.3681002l-4.8827991-8.4579
		c-0.2772999-0.4801998-0.8895998-0.6444001-1.3661995-0.3666997c-0.4785004,0.2776999-0.6425858,0.8898997-0.3662004,1.3680997
		l4.8828001,8.4579C20.0596008,14.8055,20.3955002,14.9844999,20.7411995,14.9844999z"
            ></path>
            <path
              d="M32.7421989,52.2318993c-0.5527992,0-0.9999981,0.4478989-0.9999981,1.0014V62.9986
		c0,0.5535011,0.4471989,1.0014,0.9999981,1.0014c0.5527,0,1-0.4478989,1-1.0014v-9.7653008
		C33.7421989,52.6797981,33.294899,52.2318993,32.7421989,52.2318993z"
            ></path>
            <path
              d="M22.5272999,49.8936996c-0.4813995-0.2795982-1.0907993-0.114399-1.3661995,0.3647995l-4.8838005,8.457901
		C16,59.1955986,16.1639996,59.8077011,16.6415997,60.0844994c0.1582165,0.0918999,0.330101,0.1348991,0.5,0.1348991
		c0.3457012,0,0.6816006-0.1788979,0.8662167-0.4996986l4.8837833-8.457901
		C23.1688995,50.7826004,23.0049,50.1705017,22.5272999,49.8936996z"
            ></path>
            <path
              d="M13.4824009,42.3922005l-8.4580002,4.8837013c-0.4775,0.2756996-0.6425853,0.8888969-0.3662,1.3680992
		c0.1846147,0.3206978,0.5215001,0.5006981,0.8671999,0.5006981c0.1689,0,0.3407998-0.0430984,0.4990001-0.1339989
		l8.4580002-4.8837013c0.4775-0.2756996,0.6425991-0.8889008,0.3661995-1.3680992
		C14.5732002,42.2807007,13.9639006,42.1144981,13.4824009,42.3922005z"
            ></path>
            <path
              d="M63,31.7409h-9.7656021c-0.5527992,0-1,0.4479008-1,1.0012989c0,0.5535011,0.4472008,1.0014,1,1.0014H63
		c0.5527,0,1-0.4478989,1-1.0014C64,32.1888008,63.5527,31.7409,63,31.7409z"
            ></path>
            <path
              d="M58.9756012,47.2759018l-8.4580002-4.8837013c-0.4805031-0.2766991-1.0917854-0.1114998-1.3662033,0.3666992
		c-0.2763977,0.4791985-0.1113968,1.0923996,0.3662033,1.3680992l8.4580002,4.8837013
		c0.1582146,0.0909004,0.3290977,0.1339989,0.4989967,0.1339989c0.3457031,0,0.6826019-0.1800003,0.867218-0.5006981
		C59.6181984,48.1647987,59.4530983,47.5516014,58.9756012,47.2759018z"
            ></path>
            <path
              d="M42.8378983,50.2584991c-0.2753983-0.4791985-0.8866997-0.6443977-1.3661995-0.3647995
		c-0.4776001,0.2768021-0.6415977,0.8889008-0.3642998,1.3680992l4.8838005,8.457901
		c0.1846161,0.3208008,0.5205002,0.4996986,0.8661995,0.4996986c0.169899,0,0.3418007-0.0429993,0.5-0.1348991
		c0.4775009-0.2767982,0.6416016-0.8889008,0.3642998-1.3680992L42.8378983,50.2584991z"
            ></path>
          </g>
        </svg>
      </div> 0-->
      <div
        class="light-dark night absolute w-20 aspect-square text-center leading-[72px] text-dark-text back"
      >
        <svg
          class="w-6 dark:stroke-dark-text stroke-light-text group-hover:stroke-dark-text dark:fill-dark-text fill-light-text group-hover:fill-dark-text transition-all duration-[400ms]" 
          version="1.1"
          id="Capa_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 49.739 49.739"
          xml:space="preserve"
        >
          <path
            d="M25.068,48.889c-9.173,0-18.017-5.06-22.396-13.804C-3.373,23.008,1.164,8.467,13.003,1.979l2.061-1.129l-0.615,2.268
	c-1.479,5.459-0.899,11.25,1.633,16.306c2.75,5.493,7.476,9.587,13.305,11.526c5.831,1.939,12.065,1.492,17.559-1.258v0
	c0.25-0.125,0.492-0.258,0.734-0.391l2.061-1.13l-0.585,2.252c-1.863,6.873-6.577,12.639-12.933,15.822
	C32.639,48.039,28.825,48.888,25.068,48.889z M12.002,4.936c-9.413,6.428-12.756,18.837-7.54,29.253
	c5.678,11.34,19.522,15.945,30.864,10.268c5.154-2.582,9.136-7.012,11.181-12.357c-5.632,2.427-11.882,2.702-17.752,0.748
	c-6.337-2.108-11.473-6.557-14.463-12.528C11.899,15.541,11.11,10.16,12.002,4.936z"
          ></path>
        </svg>
      </div>
    </div>

    <a
      href="/"
      class="float-left hover:text-white py-6 hover:bg-primary transition-all duration-[400ms]"
      ><img src="https://files.catbox.moe/wtthx0.png" width="40%"></a
    >
    <a
      href="/about/"
      class="float-left hover:text-white text-center no-underline px-4 py-3.5 hover:bg-primary transition-all duration-[400ms]"
      >About</a
    >
    <a
      href="/events/"
      class="float-left hover:text-white text-center no-underline px-4 py-3.5 hover:bg-primary transition-all duration-[400ms]"
      >Events</a
    >
    <a
      href="/food/"
      class="float-left hover:text-white text-center no-underline px-4 py-3.5 hover:bg-primary transition-all duration-[400ms]"
      >Food
    </a>
    <a
    href="/credits/"
    class="float-left hover:text-white text-center no-underline px-4 py-3.5 hover:bg-primary transition-all duration-[400ms]"
    >Credits</a
  >
  </div>
</nav>
<div class="spot"></div>

<script>
  // element references
  const navbar = document.querySelector("nav");
  const spot = document.querySelector(".spot");
  const dropdown = document.querySelector(".invisible");

  // handler
  const handleScroll = (entries) => {
    const spotIsVisible = entries[0].isIntersecting;
    if (spotIsVisible) {
      navbar.classList.remove("dark:shadow-2xl");
      navbar.classList.remove("dark:drop-shadow-2xl");
      navbar.classList.remove("dark:bg-dark-bg");
      navbar.children[0].classList.remove("dark:drop-shadow-none");
      navbar.children[0].classList.remove("dark:shadow-none");
      navbar.children[0].classList.remove("dark:bg-dark-secondary");
      navbar.children[0].classList.remove("dark:text-white");

      navbar.children[0].classList.remove("drop-shadow-2xl");
      navbar.children[0].classList.remove("shadow-2xl");
      navbar.children[0].classList.remove("text-black");
      navbar.children[0].classList.remove("bg-light-secondary");
    } else {
      navbar.classList.add("dark:shadow-2xl");
      navbar.classList.add("dark:drop-shadow-2xl");
      navbar.classList.add("dark:bg-dark-bg");
      navbar.children[0].classList.add("dark:drop-shadow-none");
      navbar.children[0].classList.add("dark:shadow-none");
      navbar.children[0].classList.add("dark:bg-dark-secondary");
      navbar.children[0].classList.add("dark:text-white");

      navbar.children[0].classList.add("drop-shadow-2xl");
      navbar.children[0].classList.add("shadow-2xl");
      navbar.children[0].classList.add("text-black");
      navbar.children[0].classList.add("bg-light-secondary");
    }
  };

  const options = {
    root: null,
    rootMargin: "0px",
    threshhold: 0,
  };

  // initialize and start the observer.
  const observer = new IntersectionObserver(handleScroll, options);
  observer.observe(spot);

  //DARK/LIGHT MODE
  let wrapper = document.querySelector(".wrap");
  wrapper.addEventListener("click", () => {
    let frontElements = document.querySelectorAll(".front");
    let backElements = document.querySelectorAll(".back");

    frontElements.forEach((element) => {
      element.classList.toggle("front");
      element.classList.toggle("back");
    });

    backElements.forEach((element) => {
      element.classList.toggle("front");
      element.classList.toggle("back");
    });

    document.documentElement.classList.toggle("dark");
  });

  let light = document.querySelector(".light");
  let night = document.querySelector(".night");
  window.addEventListener("DOMContentLoaded", () => {
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      light.classList.remove("front");
      light.classList.add("back");
      night.classList.remove("back");
      night.classList.add("front");
    } else {
      night.classList.remove("front");
      night.classList.add("back");
      light.classList.remove("back");
      light.classList.add("front");
    }
  });
</script>

<style is:inline>
  .front {
    animation: front 700ms 1;
    transition: z-index 700ms ease-in-out;
    animation-fill-mode: forwards;
    z-index: 10;
  }

  .back {
    animation: back 700ms 1;
    transition: z-index 700ms ease-in-out;
    animation-fill-mode: forwards;
    z-index: 0;
  }

  @keyframes front {
    0% {
      transform: translateX(0) rotate(0deg);
      opacity: 0;
    }
    50% {
      transform: translateX(10px) rotate(15deg);
    }
    100% {
      transform: translateX(0) scale(1) rotate(0deg);
      opacity: 1;
    }
  }

  @keyframes back {
    0% {
      transform: translateX(0) rotate(0deg);
      opacity: 1;
    }
    50% {
      transform: translateX(-10px) rotate(-15deg);
    }
    100% {
      transform: translateX(0) scale(0.9) rotate(0deg);
      opacity: 0;
    }
  }
</style>
